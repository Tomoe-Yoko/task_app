<!DOCTYPE html>
<html>

<head>
    <title>TaskApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%
=begin%>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <%
=end%>

    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
</head>

<body>

    <main class="container mx-auto mt-28 px-5">
        <%= render 'layouts/header' %>
        <% flash.each do |type, message| %>
        <%# Tailwind 用の色分け %>
        <% bg_color =
      case type.to_sym
      when :notice then "bg-blue-100 text-blue-700 border-blue-300"
      when :success then "bg-green-100 text-green-700 border-green-300"
      when :alert  then "bg-yellow-100 text-yellow-700 border-yellow-300"
      when :error  then "bg-red-100 text-red-700 border-red-300"
      else              "bg-gray-100 text-gray-700 border-gray-300"
      end
  %>

        <div class="px-4 py-3 mb-4 border rounded-md <%= bg_color %>">
            <%= message %>
        </div>
        <% end %>

        <%= yield %>
    </main>
</body>

</html>